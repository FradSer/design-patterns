```swift
protocol Iterator {
    associatedtype Element
    func next() -> Self.Element?
    func hasNext() -> Bool
}

struct Book {
    let name: String
    let author: String
}

struct BookList {

    private let bookList: [Book]

    init(books: [Book]) {
        self.bookList = books
    }

    func makeIterator() -> BooksIterator {
        return BooksIterator(books: bookList)
    }
}

class BooksIterator: Iterator {
    
    typealias Element = Book
    
    private var index = 0
  
    private let books: [Book]

    init(books: [Book]) {
      self.books = books
    }
    
    func hasNext() -> Bool {
        return self.books.count > index
    }

    func next() -> Book? {
        defer { self.index += 1 }
        return hasNext() ? books[index] : nil
    }
}


let books = BookList(books: [
    Book(name: "西游记", author: "吴承恩"),
    Book(name: "三国演义", author: "罗贯中")
])

var iter = books.makeIterator()

while iter.hasNext() {
    let book = iter.next()
    print("书籍：\(book!.name) - \(book!.author)")
}
print("迭代完成")



//
//
//struct Book {
//    let name: String
//    let author: String
//}
//
//struct BookList: Sequence {
//
//    private let bookList: [Book]
//
//    init(books: [Book]) {
//        self.bookList = books
//    }
//
//    func makeIterator() -> BookListInterator {
//        return BookListInterator(books: bookList)
//    }
//
//}
//
//struct BookListInterator: IteratorProtocol {
//    typealias Element = Book
//
//    private var index = 0
//
//    private let books: [Element]
//
//    init(books: [Element]) {
//        self.books = books
//    }
//
//    mutating func next() -> Book? {
//        defer {
//            self.index += 1
//        }
//
//        return books.count > index ? books[index] : nil
//    }
//}
//
//let books = BookList(books: [
//    Book(name: "西游记", author: "吴承恩"),
//    Book(name: "三国演义", author: "罗贯中")
//])
//
//var iter = books.makeIterator()
//var book = iter.next()
//
//while book != nil {
//    print("书籍：\(book!.name) - \(book!.author)")
//    book = iter.next()
//}
//
//print("迭代完成")
```